<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Problem set 6 | Problem sets and solutions</title>
  <meta name="description" content="This groups all the problem sets and solutions for the Spring 2020 Mathematical Demography class" />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Problem set 6 | Problem sets and solutions" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This groups all the problem sets and solutions for the Spring 2020 Mathematical Demography class" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Problem set 6 | Problem sets and solutions" />
  
  <meta name="twitter:description" content="This groups all the problem sets and solutions for the Spring 2020 Mathematical Demography class" />
  

<meta name="author" content="Summer 2020" />


<meta name="date" content="2020-06-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="problem-set-3.html"/>
<link rel="next" href="problem-set-8.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="problem-set-1.html"><a href="problem-set-1.html"><i class="fa fa-check"></i><b>1</b> Problem set 1</a><ul>
<li class="chapter" data-level="1.1" data-path="problem-set-1.html"><a href="problem-set-1.html#questions"><i class="fa fa-check"></i><b>1.1</b> Questions</a></li>
<li class="chapter" data-level="1.2" data-path="problem-set-1.html"><a href="problem-set-1.html#solutions"><i class="fa fa-check"></i><b>1.2</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="problem-set-2.html"><a href="problem-set-2.html"><i class="fa fa-check"></i><b>2</b> Problem set 2</a><ul>
<li class="chapter" data-level="2.1" data-path="problem-set-2.html"><a href="problem-set-2.html#questions-1"><i class="fa fa-check"></i><b>2.1</b> Questions</a></li>
<li class="chapter" data-level="2.2" data-path="problem-set-2.html"><a href="problem-set-2.html#solutions-1"><i class="fa fa-check"></i><b>2.2</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="problem-set-3.html"><a href="problem-set-3.html"><i class="fa fa-check"></i><b>3</b> Problem set 3</a><ul>
<li class="chapter" data-level="3.1" data-path="problem-set-3.html"><a href="problem-set-3.html#questions-2"><i class="fa fa-check"></i><b>3.1</b> Questions</a></li>
<li class="chapter" data-level="3.2" data-path="problem-set-3.html"><a href="problem-set-3.html#solutions-2"><i class="fa fa-check"></i><b>3.2</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="problem-set-6.html"><a href="problem-set-6.html"><i class="fa fa-check"></i><b>4</b> Problem set 6</a><ul>
<li class="chapter" data-level="4.1" data-path="problem-set-6.html"><a href="problem-set-6.html#questions-3"><i class="fa fa-check"></i><b>4.1</b> Questions</a></li>
<li class="chapter" data-level="4.2" data-path="problem-set-6.html"><a href="problem-set-6.html#solutions-3"><i class="fa fa-check"></i><b>4.2</b> Solutions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="problem-set-8.html"><a href="problem-set-8.html"><i class="fa fa-check"></i><b>5</b> Problem set 8</a><ul>
<li class="chapter" data-level="5.1" data-path="problem-set-8.html"><a href="problem-set-8.html#problems"><i class="fa fa-check"></i><b>5.1</b> Problems</a></li>
<li class="chapter" data-level="5.2" data-path="problem-set-8.html"><a href="problem-set-8.html#solutions-4"><i class="fa fa-check"></i><b>5.2</b> Solutions</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Problem sets and solutions</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="problem-set-6" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Problem set 6</h1>
<div id="questions-3" class="section level2">
<h2><span class="header-section-number">4.1</span> Questions</h2>
<ol style="list-style-type: decimal">
<li>Using the tempo_simu.R file,
<ol style="list-style-type: lower-alpha">
<li>Try with N of 4 million – does it still work? What happens?</li>
<li>Try with a shift function that goes up and down. Are the adjusted counts ever LESS than the observed counts? If so, when?<br />
</li>
<li>If the cumulative shift was Rt = a + 0.1*t, what would be a formula for tempo-adjusted counts of births? Sketch the 4 panels without the computer and then check to see if you’re right.</li>
</ol></li>
<li>Calculate the age profile of fertility change predicted by the BongaartsFeeney model by taking time derivatives of the log schedules. You will end up with three terms. Describe each of these in words.<br />
</li>
<li>Use simulation based on tempo simu.R to check your answer.<br />
</li>
<li>Is there a diagnostic plot that you could do to compare observed agespecific changes to those predicted by the BF model? Hint: use normalized schedules that sum to 1.0<br />
</li>
<li>Use this diagnostic plot to all-order fertility change during the Great Recession.<br />
</li>
<li>Use this diagnostic plot to 1st, 2nd, and 3rd births.<br />
</li>
<li>Fit the two-part normal mixture model to fertility from another country based on what looks interesting in the Burkimsher paper. (E.g., Canada, Portugal, or the Netherlands). I recommend doing this for 1 year, but once you get your code running, you could iterate over years. Use graphs to discuss the goodness of fit. And if you do more than 1 year, discuss whether the time trends in the parameters make substantive sense)</li>
</ol>
</div>
<div id="solutions-3" class="section level2">
<h2><span class="header-section-number">4.2</span> Solutions</h2>
<ol style="list-style-type: decimal">
<li>Using the tempo_simu.R file,
<ol style="list-style-type: lower-alpha">
<li>Try with N of 4 million – does it still work? What happens?
This simulation will first sample from a normal distribution draws of ages that represent the ages of women when giving birth for the first time. It also creates as shift function <span class="math inline">\(R(t)\)</span> which affects all women of a given year.
<img src="bookdown-demo_files/figure-html/unnamed-chunk-40-1.png" width="672" /><img src="bookdown-demo_files/figure-html/unnamed-chunk-40-2.png" width="672" />
Yes, it still works. In fact, we see that the adjusted births are very close to the observed births when using this number of simulations. (I continue to use an N of 4 million for the rest of this problem).<br />
</li>
<li>Try with a shift function that goes up and down. Are the adjusted counts ever LESS than the observed counts? If so, when?<br />
<img src="bookdown-demo_files/figure-html/unnamed-chunk-41-1.png" width="672" /><img src="bookdown-demo_files/figure-html/unnamed-chunk-41-2.png" width="672" />
The adjusted counts are not always less than the observed. Naturally, this only happens when we have spikes on the observed counts that become smoother after the adjusting of the birth counts.<br />
</li>
<li>If the cumulative shift was Rt = a + 0.1*t, what would be a formula for tempo-adjusted counts of births? Sketch the 4 panels without the computer and then check to see if you’re right.<br />
Let <span class="math inline">\(a = -199\)</span>, so we get a shift of 0 to about 3 years depending on the time period:<br />
<img src="bookdown-demo_files/figure-html/unnamed-chunk-42-1.png" width="672" /><img src="bookdown-demo_files/figure-html/unnamed-chunk-42-2.png" width="672" /></li>
</ol></li>
<li>Calculate the age profile of fertility change predicted by the BongaartsFeeney model by taking time derivatives of the log schedules. You will end up with three terms. Describe each of these in words.<br />
<span class="math display">\[\begin{aligned}
 f(a,t)&amp;=f_0(a-R(t))[1-R&#39;(t)]q(t)\\
 log(f(a,t))&amp;=log(f_0(a-R(t))) + log(1-R&#39;(t)) + log(q(t))\\
 \frac{\partial log(f(a,t))}{\partial t}&amp;=\frac{\partial log(f_0(a-R(t)))}{\partial t} + \frac{\partial
 log(1-R&#39;(t))}{\partial t} + \frac{\partial log(q(t))}{\partial t}\\
 \frac{\partial log(f(a,t))}{\partial t}&amp;=-R&#39;(t)\frac{f_0&#39;(a-R(t))}{f_0(a-R(t))} -\frac{R&#39;&#39;(t)}{1-R&#39;(t)} + \frac{q&#39;(t)}{q(t)}
 \end{aligned}\]</span>
The first term represents the proportional change in the fertility of the equivalent pre-postponement cohort. In particular, it is divided into (how far someone shifts ‘over’ relative to ages on the baseline fertility schedule) and an <span class="math inline">\(R&#39;(t)\)</span> term (how much one shifts ‘up’). The second term represents the proportional change in the rate of change in years of postponement; it is a tempo-effect. The third term represents the proportional change in quantum.</li>
<li><p>Use simulation based on tempo simu.R to check your answer.</p>
The <code>tempo_simu.R</code> function computes <span class="math inline">\(R(t)\)</span> but we need to obtain the remaining components of the answer from the previous excercise. For simplicity, let’s assume that there are no tempo effects (<span class="math inline">\(q(t)=0\)</span>) and that <span class="math inline">\(a=25\)</span>, that is, our baseline schedule is that of women aged 25.
<ol style="list-style-type: lower-alpha">
<li><span class="math inline">\(R(t)\)</span> components:
Let’s briefly look at <span class="math inline">\(R(t)\)</span>, <span class="math inline">\(R&#39;(t)\)</span>, and <span class="math inline">\(R&#39;&#39;(t)\)</span>. In <code>tempo_simu.R</code> <span class="math inline">\(R(t)\)</span> refers to the cumulative shift object (<code>shift.t</code> ). We can obtain the derivatives by taking the centered difference of this object.</li>
</ol>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">shift.t.prime &lt;-<span class="st"> </span><span class="kw">center.diff</span>(shift.t)</a>
<a class="sourceLine" id="cb14-2" data-line-number="2">shift.t.prime<span class="fl">.2</span> &lt;-<span class="st"> </span><span class="kw">center.diff</span>(shift.t.prime)</a>
<a class="sourceLine" id="cb14-3" data-line-number="3"></a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))</a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="kw">plot</span>(<span class="dv">1991</span><span class="op">:</span><span class="dv">2020</span>, shift.t, <span class="dt">main =</span> <span class="st">&#39;R(t)&#39;</span>, <span class="dt">xlab =</span> <span class="st">&#39;&#39;</span>, <span class="dt">ylab =</span> <span class="st">&#39;&#39;</span>)</a>
<a class="sourceLine" id="cb14-6" data-line-number="6"><span class="kw">plot</span>(<span class="dv">1991</span><span class="op">:</span><span class="dv">2020</span>, shift.t.prime, <span class="dt">main =</span> <span class="st">&#39;R</span><span class="ch">\&#39;</span><span class="st">(t)&#39;</span>, <span class="dt">xlab =</span> <span class="st">&#39;&#39;</span>, <span class="dt">ylab =</span> <span class="st">&#39;&#39;</span>)</a>
<a class="sourceLine" id="cb14-7" data-line-number="7"><span class="kw">plot</span>(<span class="dv">1991</span><span class="op">:</span><span class="dv">2020</span>, shift.t.prime<span class="fl">.2</span>, <span class="dt">main =</span> <span class="st">&#39;R</span><span class="ch">\&#39;\&#39;</span><span class="st">(t)&#39;</span>, <span class="dt">xlab =</span> <span class="st">&#39;&#39;</span>, <span class="dt">ylab =</span> <span class="st">&#39;&#39;</span>)</a>
<a class="sourceLine" id="cb14-8" data-line-number="8"><span class="kw">plot</span>(<span class="dv">1991</span><span class="op">:</span><span class="dv">2020</span>,<span class="op">-</span>shift.t.prime<span class="fl">.2</span><span class="op">/</span><span class="st"> </span>(<span class="dv">1</span><span class="op">-</span>shift.t.prime), <span class="dt">main =</span> <span class="st">&#39;-R</span><span class="ch">\&#39;\&#39;</span><span class="st">(t) / (1- R</span><span class="ch">\&#39;</span><span class="st">(t))&#39;</span>, <span class="dt">xlab =</span> <span class="st">&#39;year&#39;</span>, <span class="dt">ylab =</span> <span class="st">&#39;&#39;</span>)</a></code></pre></div>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-44-1.png" width="768" />
<ol start="2" style="list-style-type: lower-alpha">
<li><span class="math inline">\(f_0(a-R(t))\)</span> function:
In the Bongaarts and Feeney model, the baseline schedule of women of age <span class="math inline">\(a\)</span> at time <span class="math inline">\(t\)</span> is <span class="math inline">\(f_0(a-R(t))\)</span>. That is, it is the fertility schedule that is observed because of the shift. From the simulation, we obtain a table of births at each age and the age-specific fertility rates. Then, we can look at the original and the observed ASFRs. The original ASFR is that from the simulation, which we would not observe. Rather we would only the see the ASFR from births that were postponed by year-specific shifts.</li>
</ol>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="co"># floor everything</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2">dt_floored &lt;-<span class="st"> </span>dt <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="kw">transmute</span>(<span class="st">&#39;x&#39;</span> =<span class="st"> </span><span class="kw">floor</span>(x), <span class="st">&#39;t&#39;</span> =<span class="st"> </span><span class="kw">floor</span>(t), </a>
<a class="sourceLine" id="cb15-4" data-line-number="4">          <span class="st">&#39;t.obs&#39;</span> =<span class="st"> </span><span class="kw">floor</span>(t.obs), <span class="st">&#39;x.obs&#39;</span> =<span class="st"> </span><span class="kw">floor</span>(x.obs)) <span class="co"># the .obs values are the ones that go into the baseline function. </span></a>
<a class="sourceLine" id="cb15-5" data-line-number="5"></a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="co"># Births to women born at each age. </span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7">original_sched &lt;-<span class="st"> </span><span class="kw">table</span>(dt_floored<span class="op">$</span>x, dt_floored<span class="op">$</span>t)</a>
<a class="sourceLine" id="cb15-8" data-line-number="8">observed_sched &lt;-<span class="st"> </span><span class="kw">table</span>(dt_floored<span class="op">$</span>x.obs, dt_floored<span class="op">$</span>t.obs)</a>
<a class="sourceLine" id="cb15-9" data-line-number="9"></a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="co"># ASFR (The denominator is 100 person years lived, or 100 women at each age)</span></a>
<a class="sourceLine" id="cb15-11" data-line-number="11">asfr_original&lt;-<span class="st"> </span>original_sched<span class="op">/</span>(<span class="dv">100</span><span class="op">*</span>thousand) <span class="co">#f(a,t)</span></a>
<a class="sourceLine" id="cb15-12" data-line-number="12">asfr_observed &lt;-<span class="st"> </span>observed_sched<span class="op">/</span>(<span class="dv">100</span><span class="op">*</span>thousand) <span class="co">#f_0(a,t)</span></a>
<a class="sourceLine" id="cb15-13" data-line-number="13"></a>
<a class="sourceLine" id="cb15-14" data-line-number="14"><span class="co">#Graph of ASFRs for observed and original births. The lines get lighter with each year. </span></a>
<a class="sourceLine" id="cb15-15" data-line-number="15"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">1</span>))</a>
<a class="sourceLine" id="cb15-16" data-line-number="16"><span class="kw">matplot</span>(<span class="kw">rownames</span>(asfr_observed), asfr_observed, <span class="dt">type =</span> <span class="st">&quot;l&quot;</span>, <span class="dt">lty =</span> <span class="dv">1</span>, <span class="dt">col=</span><span class="kw">grey</span>(<span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dt">length =</span> <span class="dv">40</span>)), </a>
<a class="sourceLine" id="cb15-17" data-line-number="17">    <span class="dt">xlab =</span> <span class="st">&#39;Age&#39;</span>, <span class="dt">ylab =</span> <span class="st">&#39;ASFR&#39;</span>, <span class="dt">main =</span> <span class="st">&#39;Observed ASFR&#39;</span>)</a>
<a class="sourceLine" id="cb15-18" data-line-number="18"><span class="kw">abline</span>(<span class="dt">v=</span> <span class="dv">25</span>, <span class="dt">lty =</span> <span class="dv">2</span>, <span class="dt">col =</span> <span class="st">&#39;black&#39;</span>)</a>
<a class="sourceLine" id="cb15-19" data-line-number="19"></a>
<a class="sourceLine" id="cb15-20" data-line-number="20"><span class="kw">matplot</span>(<span class="kw">rownames</span>(asfr_original), asfr_original, <span class="dt">type =</span> <span class="st">&quot;l&quot;</span>, <span class="dt">lty =</span> <span class="dv">1</span>, <span class="dt">col=</span><span class="kw">grey</span>(<span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dt">length =</span> <span class="dv">40</span>)), </a>
<a class="sourceLine" id="cb15-21" data-line-number="21">    <span class="dt">xlab =</span> <span class="st">&#39;Age&#39;</span>, <span class="dt">ylab =</span> <span class="st">&#39;ASFR&#39;</span>, <span class="dt">main =</span> <span class="st">&#39;Original ASFR&#39;</span>)</a>
<a class="sourceLine" id="cb15-22" data-line-number="22"><span class="kw">abline</span>(<span class="dt">v=</span> <span class="dv">25</span>, <span class="dt">lty =</span> <span class="dv">2</span>, <span class="dt">col =</span> <span class="st">&#39;black&#39;</span>)</a></code></pre></div>
<img src="bookdown-demo_files/figure-html/unnamed-chunk-45-1.png" width="672" />
The component that we are interersted in is the first derivative of the baseline schedule (<span class="math inline">\(f_0(a-R(t))\)</span>).
<img src="bookdown-demo_files/figure-html/unnamed-chunk-46-1.png" width="672" />
<ol start="3" style="list-style-type: lower-alpha">
<li>Comparison of terms from original and observed data:
We can merge all the terms of the formula from the previous question and compare it to the derivative of the log version of the observed fertility schedules.
<img src="bookdown-demo_files/figure-html/unnamed-chunk-47-1.png" width="672" /><img src="bookdown-demo_files/figure-html/unnamed-chunk-47-2.png" width="672" /></li>
</ol>
<pre><code>##             5             6             7             8             9            10            11 
##           NaN           NaN           NaN           NaN           Inf           NaN  0.0279104400 
##            12            13            14            15            16            17            18 
##  0.0284926376  0.0264610984  0.0237212086  0.0217063493  0.0201999478  0.0180307054  0.0163718360 
##            19            20            21            22            23            24            25 
##  0.0143367711  0.0126676950  0.0108740251  0.0089406636  0.0070038016  0.0051380233  0.0032746533 
##            26            27            28            29            30            31            32 
##  0.0013796601 -0.0004524888 -0.0022009709 -0.0041665665 -0.0059568771 -0.0079508464 -0.0098116081 
##            33            34            35            36            37            38            39 
## -0.0116493883 -0.0134483969 -0.0152374780 -0.0174666475 -0.0187958955 -0.0213274275 -0.0225088932 
##            40            41            42            43            44            45            46 
## -0.0246023349 -0.0284561023 -0.0218511609           NaN           NaN           NaN           NaN 
##            47            48 
##           NaN           NaN</code></pre>
<pre><code>##           5           6           7           8           9          10          11          12          13 
##         NaN         NaN         NaN        -Inf -0.04661512 -0.03769700 -0.02995997 -0.06192639 -0.05078215 
##          14          15          16          17          18          19          20          21          22 
## -0.04858363 -0.05152016 -0.05218837 -0.05159206 -0.05148395 -0.05160988 -0.05209997 -0.05204756 -0.05258484 
##          23          24          25          26          27          28          29          30          31 
## -0.05193104 -0.05309911 -0.05345465 -0.05218494 -0.05232512 -0.05222811 -0.05151393 -0.05223201 -0.05259580 
##          32          33          34          35          36          37          38          39          40 
## -0.05334486 -0.05261664 -0.05131790 -0.04743019 -0.05145224 -0.06105139 -0.06151550 -0.04560559        -Inf 
##          41          42          43          44          45 
##        -Inf         NaN         NaN         NaN         NaN</code></pre>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-47-3.png" width="672" /></p></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="problem-set-3.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="problem-set-8.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/04-problemset6.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
